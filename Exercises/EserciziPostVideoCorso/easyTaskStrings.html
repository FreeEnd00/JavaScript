<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Easy task with strings</title>
</head>
<body>
    <script>
        const separatore = "--!!--"
        //linee multiple
        const listaClienti = `Clienti: 
        * Thomas
        * Carlotta
        * Aurora
        `;
        console.log(listaClienti)
        const listaIngredienti = "Ingredienti:\n Pane\n Prosciutto\n Formaggio";
        console.log(listaIngredienti);
        const backHello = `Hello
        World`;
        const normalHello = "Hello \n World";
        console.log(backHello);
        console.log(normalHello);

        testStr = "Hello\tWorld"
        console.log(testStr);

        console.log(`I\`m ghe`);
        

        //posizione lettere in una stringa
        console.log(separatore);
        const str = "Hello World"
        //prima lettera
        console.log(str[0]);
        console.log(str.at(0));

        //ultima lettera
        console.log(separatore);
        console.log(str[str.length -1]);
        console.log(str.at(-1));

        //undefined
        console.log(str[-2])

        //stampa tutti i caratteri di una stringa
        for(char of str){
            console.log(char);
        }
        console.log(separatore);
        //non si possono cambiare i caratteri di una stringa
        str[0] = "h";
        console.log(str[0]);
        //metodo per modificare i caratteri di una stringa
        let parola = "Hi";
        console.log(parola);
        parola = "h" + parola[1];
        console.log(parola);

        //cambiare la grandezza dei caratteri
        console.log(separatore);
        console.log("Panino".toUpperCase());
        console.log("Panino".toLowerCase());
        console.log("Panino"[0].toLowerCase());
        //indexOf
        const frase ="Widget with id"
        console.log(frase.indexOf("Widget"));
        console.log(frase.indexOf("widget"));
        console.log(frase.indexOf("id"));
        console.log(frase.indexOf("id",2));

        //trova tutte le volte in cui una sottostringa viene trovata in una stringa
        console.log(separatore)
        const esempio = "As sly as a fox, as strong as an ox";
        const target = "as";

        let pos = 0
        while(true){
            let foundPos = esempio.indexOf(target,pos); 
            if(foundPos == -1) break;
            console.log(`Found at: ${foundPos}`);
            pos = foundPos + 1;
        }


        //secondo metodo più corto
        console.log("metodo corto")
         pos = -1
        while((pos = esempio.indexOf(target,pos+1))!=-1){
            console.log(`Found at: ${pos}`)
        }

        //if statement con indexOf
        if(str.indexOf("Widget")!= 1){
            console.log("Trovato");
        }

        //.includes
        console.log(separatore);
        console.log("Widget with id".includes("Widget")); //true
        console.log("Hello".includes("bye")); //false
        console.log("Widget".includes("id")); //true
        console.log("Widget".includes("id",3)); //false

        //.startsWith e endsWith
        console.log("start e end")
        console.log("Widget".startsWith("Wid")); //true
        console.log("Widget".endsWith("get")); //true

        //slice()
        console.log("Slice()")
        let a = "stringify";
        console.log(a.slice(0,5)); //strin
        console.log(a.slice(0,1)); //s
        console.log(a.slice(2)); //ringify
        console.log(a.slice(-4,-1)); //gif

        //substring() not support negative numbers they are treated as 0
        console.log(a.substring(6,2)); //ring
        console.log(a.substring(2,6)); //ring

        //substr() (inizio, lunghezza)
        console.log(a.substr(2,4)); //ring
        console.log(a.substr(-4,2)); //gi


        //le lettere diacritiche sono "fuori ordine"
        console.log(separatore);
        console.log("Österreich" > "Zealand"); //true

        //codePointAt() (string.codePointAt(position))

        console.log(separatore);
        console.log("Z".codePointAt(0)); //90
        console.log("z".codePointAt(0)); //122
        console.log("z".codePointAt(0).toString(16)); // 7a (hexadecimal number)

        console.log(separatore);
        //String.fromCodePoint(code)

        console.log(String.fromCodePoint(90)); //Z
        console.log(String.fromCodePoint(0x5a)); //Z (hexadecimal number)

        //characters with codes
        console.log(separatore);
        let alfabetoAndMore = "";

        for(let i = 65; i <= 220; i++){
            alfabetoAndMore += String.fromCodePoint(i);
        }
        console.log(alfabetoAndMore);


        console.log(separatore);
        //  str.locateCompare(str2);

        console.log("Österreich".localeCompare("Zealand")); //-1 se è un numero negativo la prima stringa 
        // è più piccola della seconda
        //invece se il risultato è positivo, la prima stringa è più grande, 0 invece se sono con lo stesso valore
        

        //trim() elimina gli spazi vuoti all'inizio e alla fine di una stringa
        console.log(separatore);
        let b = "   Ape regina     ";
        console.log(b);
        b = b.trim();
        console.log(b);


        //repeat(n) ripete la stringa n volte

        console.log(separatore);
        let c = "Ciao Mondo";
        c = c.repeat(10);
        console.log(c);


        //esercizio Funzione che trasforma il primo carattere di una stringa rendendola maiuscola
        console.log(separatore);
        function UpperLetter(str){
            if (!str) return str;

            return str[0].toUpperCase() + str.slice(1);
        }

        console.log(UpperLetter("salmone"));

        //funzione che trovi lo spamm (parole come XXX e viagra)

        function checkSpam(str){
            if (!str) return str;

            if(str.includes("XXX") || str.includes("xxx") || str.includes("viagra") || str.includes("Viagra")){
                return true;
            }else{
                return false;
            }
        }
        console.log(checkSpam("Viagra"))

    </script>
</body>
</html>